# OpenVPN + Application Docker Compose

## Опис проекту
Цей проект створює Docker середовище з двома сервісами:

1. **OpenVPN-клієнт**
   - Підключається до OpenVPN сервера та створює VPN-тунель.
   - Використовує образ `frauhottelmann/openvpn-client`.

2. **Додаток**
   - Працює у середовищі OpenVPN клієнта.
   - Має доступ до сервера через VPN-тунель.

## Структура проекту
```plaintext
project/
|-- docker-compose.yml       # Конфігурація Docker Compose
|-- openvpn/                 # Папка з конфігурацією OpenVPN
|   |-- client.ovpn          # Конфігурація OpenVPN клієнта
|-- app/                     # Папка з вашим додатком
    |-- Dockerfile           # Dockerfile для додатку
    |-- entrypoint.sh        # Скрипт для запуску та перевірки підключення
```

## Вимоги
- **Docker** та **Docker Compose** мають бути встановлені на вашій машині.
- Конфігураційний файл `client.ovpn` для OpenVPN сервера повинен бути наданий та розміщений у папці `openvpn/`.
- VPN сервер має бути доступний.

## Як запустити
1. **Клонуйте репозиторій**:
   ```bash
   git clone <url_репозиторію>
   cd openvpn-tunnel-app
   ```

2. **Розмістіть файл OpenVPN**:
   Скопіюйте ваш конфігураційний файл `client.ovpn` у папку `openvpn/`.

3. **Запустіть Docker Compose**:
   ```bash
   docker-compose up --build
   ```

   - OpenVPN клієнт підключиться до VPN сервера.
   - Додаток запуститься у тій самій мережі та перевірить підключення.

4. **Перевірка підключення**:
   Виконайте команду для тестування з'єднання з сервером:
   ```bash
   docker exec -it app-container curl http://<IP_сервера>
   ```

   Якщо з'єднання успішне, ви побачите відповідь від сервера.

## Опис файлів
- **docker-compose.yml**: Конфігурація для створення двох сервісів.
- **openvpn/client.ovpn**: Файл налаштувань OpenVPN клієнта (надається адміністратором VPN).
- **app/Dockerfile**: Docker образ для вашого додатку.
- **app/entrypoint.sh**: Скрипт для перевірки підключення та запуску додатку.

## Логи
Логи OpenVPN клієнта можна переглянути за допомогою:
```bash
docker logs openvpn-client
```

## Завершення роботи
Щоб зупинити всі контейнери:
```bash
docker-compose down
```

## Вирішення проблем
### 1. Помилка підключення OpenVPN
Перевірте:
- Конфігурацію файлу `client.ovpn`.
- Доступність VPN сервера.
- Відповідність версії OpenVPN сервера і клієнта.

### 2. Немає доступу до сервера з додатку
- Переконайтеся, що `network_mode: "service:openvpn-client"` задано правильно у `docker-compose.yml`.
- Переконайтеся, що OpenVPN клієнт підключився успішно ("Initialization Sequence Completed" у логах).

## Контактна інформація
З питаннями та проблемами звертайтесь до системного адміністратора або розробника VPN інфраструктури.
